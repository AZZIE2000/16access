<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Splash Screen Generator</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        #canvas {
            border: 1px solid #ccc;
            display: block;
            margin: 20px auto;
        }
        .controls {
            text-align: center;
            margin: 20px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin: 5px;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center;">PWA Splash Screen Generator</h1>
    <div class="controls">
        <button onclick="generateSplash(640, 1136)">iPhone 5/SE (640x1136)</button>
        <button onclick="generateSplash(750, 1334)">iPhone 6/7/8 (750x1334)</button>
        <button onclick="generateSplash(1242, 2208)">iPhone 6+/7+/8+ (1242x2208)</button>
        <button onclick="generateSplash(1125, 2436)">iPhone X/XS (1125x2436)</button>
        <button onclick="generateSplash(828, 1792)">iPhone XR (828x1792)</button>
        <button onclick="generateSplash(1242, 2688)">iPhone XS Max (1242x2688)</button>
        <button onclick="generateSplash(1170, 2532)">iPhone 12/13 Pro (1170x2532)</button>
    </div>
    <canvas id="canvas"></canvas>
    <div class="controls">
        <button onclick="downloadSplash()">Download Current Splash</button>
    </div>

    <script>
        let currentWidth = 1170;
        let currentHeight = 2532;

        function generateSplash(width, height) {
            currentWidth = width;
            currentHeight = height;

            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = width;
            canvas.height = height;

            // Load background
            const background = new Image();
            background.src = '/background.png';
            
            background.onload = function() {
                // Draw background (cover the entire canvas)
                ctx.drawImage(background, 0, 0, width, height);

                // Load logos
                const logo1 = new Image();
                const logo2 = new Image();
                
                logo1.src = '/amman-christmas-market.png';
                logo2.src = '/16thofmay.png';

                let loaded = 0;
                function checkLoaded() {
                    loaded++;
                    if (loaded === 2) {
                        drawLogos();
                    }
                }

                logo1.onload = checkLoaded;
                logo2.onload = checkLoaded;

                function drawLogos() {
                    // Calculate logo sizes (responsive to canvas size)
                    const logoWidth = width * 0.35; // 35% of screen width
                    const spacing = width * 0.1; // 10% spacing between logos
                    
                    // Calculate heights maintaining aspect ratio
                    const logo1Height = (logo1.height / logo1.width) * logoWidth;
                    const logo2Height = (logo2.height / logo2.width) * logoWidth;
                    
                    // Position logos in the center vertically
                    const totalHeight = logo1Height + logo2Height + spacing;
                    const startY = (height - totalHeight) / 2;
                    
                    // Draw first logo (Amman Christmas Market) - left aligned
                    const logo1X = (width - logoWidth * 2 - spacing) / 2;
                    ctx.drawImage(logo1, logo1X, startY, logoWidth, logo1Height);
                    
                    // Draw second logo (16th of May) - right aligned
                    const logo2X = logo1X + logoWidth + spacing;
                    ctx.drawImage(logo2, logo2X, startY, logoWidth, logo2Height);
                }
            };
        }

        function downloadSplash() {
            const canvas = document.getElementById('canvas');
            const link = document.createElement('a');
            link.download = `splash-${currentWidth}x${currentHeight}.png`;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        // Generate default splash on load
        window.onload = function() {
            generateSplash(1170, 2532);
        };
    </script>
</body>
</html>

